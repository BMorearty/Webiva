WebformResults = {
  overlay: function(url) {
    new Ajax.Request(url,
                     { method: 'get',
                       onComplete: function(transport) { SCMS.overlay(transport.responseText); }
                     });
  },

  mark_as: function(url, reviewed) {
    new Ajax.Request(url,
                     { method: 'post',
                       parameters: 'result[reviewed]=' + reviewed,
                       onComplete: function(transport) {
                         SCMS.closeOverlay(); 
                         if($('webform_result_table_update_form')) {
                           $('webform_result_table_update_form').onsubmit();
                         }
                      }
                     });
  },

  submit: function(frm) {
    WebformResults.mark_as(frm.action, frm.result_reviewed.value);
  }
}
